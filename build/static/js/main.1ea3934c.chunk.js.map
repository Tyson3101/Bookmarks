{"version":3,"sources":["components/static/NavBar.tsx","components/static/Loading.tsx","components/AddLink.tsx","components/EditLink.tsx","App.tsx","components/static/Login.tsx","index.tsx"],"names":["NavBar","auth0","user","className","src","picture","alt","onClick","logout","Loading","useState","numOfDots","setNumOfDots","useEffect","interval","setTimeout","clearTimeout","repeat","AddLink","checkLinks","setDisplay","NameRef","useRef","WeppageURLRef","ImageRef","CheckImage","Promise","resolve","reject","img","Image","onload","onerror","e","a","preventDefault","current","value","length","alert","urlObject","URL","origin","href","host","Error","image","data","name","url","fetch","process","method","headers","Authorization","accessToken","body","JSON","stringify","link","then","res","json","success","catch","message","id","htmlFor","ref","autoComplete","type","placeholder","required","defaultValue","EditLink","style","display","App","links","setLinks","pendingClick","setPendingClick","hover","setHover","DisplayAddLink","setDisplayAddLink","DisplayEditLink","setDisplayEditLink","setInterval","clearInterval","document","onclick","element","target","classList","contains","includes","parentElement","detail","window","open","split","find","li","onmouseover","querySelector","opacity","matches","map","slice","Login","loginWithRedirect","ReactDOM","render","getElementById","auth0Options","domain","client_id","redirect_uri","location","getUser","getTokenSilently","console","log","createAuth0Client","handleRedirectCallback"],"mappings":"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","file":"static/js/main.1ea3934c.chunk.js","sourcesContent":["import { Auth0Client, User } from \"@auth0/auth0-spa-js\";\r\n\r\nfunction NavBar({ auth0, user }: { auth0?: Auth0Client; user?: User }) {\r\n  return (\r\n    <>\r\n      <header className=\"navbar\">\r\n        <h1>Bookmarks</h1>\r\n        {auth0 && user ? (\r\n          <>\r\n            <ul>\r\n              <li>\r\n                <img className=\"profilePic\" src={user.picture} alt=\"\" />\r\n              </li>\r\n              <li>\r\n                <button onClick={() => auth0.logout()}>Log out</button>\r\n              </li>\r\n            </ul>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nfunction Loading() {\r\n  let [numOfDots, setNumOfDots] = useState(1);\r\n  useEffect(() => {\r\n    const interval = setTimeout(() => {\r\n      if (numOfDots >= 3) setNumOfDots(1);\r\n      else setNumOfDots(numOfDots + 1);\r\n    }, 1000);\r\n    return () => clearTimeout(interval);\r\n  }, [numOfDots]);\r\n  return (\r\n    <>\r\n      <h1>Loading{\".\".repeat(numOfDots)}</h1>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import { User } from \"@auth0/auth0-spa-js\";\r\nimport fetch from \"cross-fetch\";\r\nimport React, { useRef } from \"react\";\r\n\r\nfunction AddLink({\r\n  user,\r\n  checkLinks,\r\n  setDisplay,\r\n}: {\r\n  user: User;\r\n  checkLinks: Function;\r\n  setDisplay: Function;\r\n}) {\r\n  const NameRef = useRef() as { current: HTMLInputElement };\r\n  const WeppageURLRef = useRef() as { current: HTMLInputElement };\r\n  const ImageRef = useRef() as { current: HTMLInputElement };\r\n\r\n  function CheckImage(src: string): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.src = src;\r\n      img.onload = () => resolve(src);\r\n      img.onerror = () => {\r\n        reject(src);\r\n      };\r\n    });\r\n  }\r\n\r\n  async function add(e: any) {\r\n    e.preventDefault();\r\n    if (!NameRef.current.value.length) {\r\n      return alert(\"Please input a name.\");\r\n    }\r\n    let urlObject;\r\n    try {\r\n      urlObject = new URL(WeppageURLRef.current.value);\r\n      if (!urlObject.origin || !urlObject.href || !urlObject.host) throw Error;\r\n    } catch {\r\n      return alert(\"Invaild URL\");\r\n    }\r\n    let image: string;\r\n    if (ImageRef.current.value.length > 2) {\r\n      try {\r\n        image = await CheckImage(ImageRef.current.value);\r\n      } catch {\r\n        return alert(\"Invaild Image. Leave blank for website favicon.\");\r\n      }\r\n    } else {\r\n      try {\r\n        image = await CheckImage(urlObject.origin + \"/favicon.ico\");\r\n      } catch {\r\n        image = \"https://i.imgur.com/O8FxG8i.png\";\r\n      }\r\n    }\r\n    const data: Link = {\r\n      name: NameRef.current.value,\r\n      url: urlObject.href,\r\n      image: image!,\r\n    };\r\n\r\n    fetch(`https://${process.env.REACT_APP_URL_SERVER}/addLink`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `bearer ${user.accessToken}`,\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ user, link: data }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          checkLinks();\r\n          setDisplay(false);\r\n        } else alert(\"Unknown Error!\");\r\n      })\r\n      .catch((e) => alert(\"Error! \" + e.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"LinkPromptContainer addLink\" id=\"outside\">\r\n      <div className=\"LinkPrompt\">\r\n        <h1>Add Link</h1>\r\n        <form>\r\n          <label htmlFor=\"name\">Name: </label>\r\n          <input\r\n            ref={NameRef}\r\n            autoComplete=\"off\"\r\n            type=\"text\"\r\n            placeholder=\"Name of bookmark\"\r\n            name=\"name\"\r\n            required\r\n          />\r\n          <label htmlFor=\"name\">Weppage URL: </label>\r\n          <input\r\n            ref={WeppageURLRef}\r\n            autoComplete=\"off\"\r\n            type=\"url\"\r\n            defaultValue=\"https://\"\r\n            name=\"url\"\r\n            required\r\n          />\r\n          <label htmlFor=\"name\">Image: </label>\r\n          <input\r\n            ref={ImageRef}\r\n            type=\"url\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Defaults to Website Favicon\"\r\n            name=\"url\"\r\n          />\r\n          <button type=\"submit\" onClick={add}>\r\n            Add\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddLink;\r\n","import { User } from \"@auth0/auth0-spa-js\";\r\nimport fetch from \"cross-fetch\";\r\nimport { useRef } from \"react\";\r\n\r\nfunction EditLink({\r\n  user,\r\n  checkLinks,\r\n  setDisplay,\r\n  link,\r\n}: {\r\n  user: User;\r\n  checkLinks: Function;\r\n  setDisplay: Function;\r\n  link: Link;\r\n}) {\r\n  const NameRef = useRef() as { current: HTMLInputElement };\r\n  const WeppageURLRef = useRef() as { current: HTMLInputElement };\r\n  const ImageRef = useRef() as { current: HTMLInputElement };\r\n\r\n  function CheckImage(src: string): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.src = src;\r\n      img.onload = () => resolve(src);\r\n      img.onerror = () => {\r\n        reject(src);\r\n      };\r\n    });\r\n  }\r\n\r\n  async function edit(e: any) {\r\n    e.preventDefault();\r\n    if (!NameRef.current.value.length) {\r\n      return alert(\"Please input a name.\");\r\n    }\r\n    let urlObject;\r\n    try {\r\n      urlObject = new URL(WeppageURLRef.current.value);\r\n      if (!urlObject.origin || !urlObject.href || !urlObject.host) throw Error;\r\n    } catch {\r\n      return alert(\"Invaild URL\");\r\n    }\r\n    let image: string;\r\n    if (ImageRef.current.value.length > 2) {\r\n      try {\r\n        image = await CheckImage(ImageRef.current.value);\r\n      } catch {\r\n        return alert(\"Invaild Image. Leave blank for website favicon.\");\r\n      }\r\n    } else {\r\n      try {\r\n        image = await CheckImage(urlObject.origin + \"/favicon.ico\");\r\n      } catch {\r\n        image = \"https://i.imgur.com/O8FxG8i.png\";\r\n      }\r\n    }\r\n    const data: Link = {\r\n      name: NameRef.current.value,\r\n      url: urlObject.href,\r\n      image: image!,\r\n      id: link.id,\r\n    };\r\n\r\n    fetch(`https://${process.env.REACT_APP_URL_SERVER}/editLink`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `bearer ${user.accessToken}`,\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ user, link: data }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          checkLinks();\r\n          setDisplay(<div style={{ display: \"none\" }}></div>);\r\n        } else alert(\"Unknown Error!\");\r\n      })\r\n      .catch((e) => alert(\"Error! \" + e.message));\r\n  }\r\n\r\n  function deleteLink(e: any) {\r\n    e.preventDefault();\r\n    fetch(`https://${process.env.REACT_APP_URL_SERVER}/deleteLink`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `bearer ${user.accessToken}`,\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ user, link }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          checkLinks();\r\n          setDisplay(<div style={{ display: \"none\" }}></div>);\r\n        } else alert(\"Unknown Error!\");\r\n      })\r\n      .catch((e) => alert(\"Error! \" + e.message));\r\n  }\r\n\r\n  return (\r\n    <div className=\"LinkPromptContainer editLink\" id=\"outside\">\r\n      <div className=\"LinkPrompt\">\r\n        <h1>Edit Link</h1>\r\n        <form>\r\n          <label htmlFor=\"name\">Name: </label>\r\n          <input\r\n            ref={NameRef}\r\n            autoComplete=\"off\"\r\n            type=\"text\"\r\n            defaultValue={link.name}\r\n            name=\"name\"\r\n            required\r\n          />\r\n          <label htmlFor=\"name\">Weppage URL: </label>\r\n          <input\r\n            ref={WeppageURLRef}\r\n            autoComplete=\"off\"\r\n            type=\"url\"\r\n            defaultValue={link.url}\r\n            name=\"url\"\r\n            required\r\n          />\r\n          <label htmlFor=\"name\">Image: </label>\r\n          <input\r\n            ref={ImageRef}\r\n            type=\"url\"\r\n            autoComplete=\"off\"\r\n            defaultValue={link.image}\r\n            name=\"url\"\r\n          />\r\n          <button type=\"submit\" onClick={edit}>\r\n            Edit\r\n          </button>\r\n          <button className=\"delete\" onClick={deleteLink}>\r\n            Delete\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditLink;\r\n","import React, { useEffect, useState } from \"react\";\nimport { Auth0Client, User } from \"@auth0/auth0-spa-js\";\nimport NavBar from \"./components/static/NavBar\";\nimport fetch from \"cross-fetch\";\nimport Loading from \"./components/static/Loading\";\nimport AddLink from \"./components/AddLink\";\nimport { setInterval } from \"timers\";\nimport EditLink from \"./components/EditLink\";\n\nfunction App({ auth0, user }: { auth0: Auth0Client; user: User }) {\n  const [links, setLinks] = useState([] as Link[]);\n  const [pendingClick, setPendingClick] = useState(0);\n  const [hover, setHover] = useState() as any;\n  const [DisplayAddLink, setDisplayAddLink] = useState(false);\n  const [DisplayEditLink, setDisplayEditLink] = useState(\n    <div style={{ display: \"none\" }}></div>\n  );\n  function checkLinks() {\n    fetch(`https://${process.env.REACT_APP_URL_SERVER}/getLinks`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `bearer ${user.accessToken}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ user }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setLinks(data);\n      });\n  }\n  useEffect(() => {\n    checkLinks();\n    let interval = setInterval(() => {\n      checkLinks();\n    }, 60000);\n    return () => clearInterval(interval);\n  }, []);\n\n  document.onclick = (e) => {\n    if (DisplayAddLink || DisplayEditLink.type !== \"div\") {\n      let element = e.target as HTMLDivElement;\n      if (element.id === \"outside\") {\n        if (element.classList.contains(\"addLink\")) {\n          return setDisplayAddLink(false);\n        } else if (element.classList.contains(\"editLink\")) {\n          return setDisplayEditLink(<div style={{ display: \"none\" }}></div>);\n        }\n      } else return;\n    }\n    let element = e.target as HTMLDivElement;\n    if (element.id === \"addLink\") return setDisplayAddLink(true);\n    if (!element.id?.includes(\"http\")) {\n      if (element.parentElement?.id.includes(\"http\")) {\n        element = element.parentElement as HTMLDivElement;\n      } else if (element.parentElement?.id === \"addLink\") {\n        return setDisplayAddLink(true);\n      }\n    }\n    if (pendingClick) {\n      clearTimeout(pendingClick as any);\n      setPendingClick(0);\n    }\n    switch (e.detail) {\n      case 1:\n        setPendingClick(\n          setTimeout(function () {\n            if (element.id.includes(\"http\"))\n              window.open(element.id.split(\" - \")[0]);\n          }, 500) as any\n        );\n        break;\n      case 2:\n        const link = links.find((li) => li.id === element.id.split(\" - \")[1]);\n\n        if (!link) return;\n        setDisplayEditLink(\n          <EditLink\n            user={user}\n            link={link}\n            setDisplay={setDisplayEditLink}\n            checkLinks={checkLinks}\n          />\n        );\n        break;\n    }\n  };\n\n  document.onmouseover = (e) => {\n    let element = e.target as HTMLSpanElement;\n    if (!element.id?.includes(\"http\")) {\n      if (element.parentElement?.id.includes(\"http\")) {\n        element = element.parentElement as HTMLSpanElement;\n      } else return;\n    }\n    setHover(element);\n    (element.querySelector(\".msg\") as HTMLSpanElement).style.opacity = \"100%\";\n  };\n\n  useEffect(() => {\n    if (!hover) return;\n    let interval = setInterval(() => {\n      if (hover.matches(\":hover\")) return;\n      (hover.querySelector(\".msg\") as HTMLSpanElement).style.opacity = \"0%\";\n      return clearInterval(interval);\n    }, 500) as any;\n    setHover(null!);\n  }, [hover]);\n\n  return (\n    <>\n      <div>\n        <NavBar auth0={auth0} user={user} />\n      </div>\n      <div className=\"links\">\n        <div className=\"link noRedirect\" id=\"addLink\">\n          <img\n            src=\"https://img.icons8.com/ios-glyphs/480/000000/plus.png\"\n            alt=\"+\"\n          />\n          <span>Add Link</span>\n        </div>\n        {links.length ? (\n          links.map((link) => (\n            <div className=\"link\" key={link.id} id={`${link.url} - ${link.id}`}>\n              <img src={link.image} alt=\"\" />\n              <span className=\"linkName\">\n                {link.name.length > 16\n                  ? link.name.slice(0, 16) + \"..\"\n                  : link.name}\n                <span className=\"msg\" style={{ opacity: 0 }}>\n                  Double Click to Edit/Delete\n                </span>\n              </span>\n            </div>\n          ))\n        ) : (\n          <Loading />\n        )}\n      </div>\n      <div style={{ display: DisplayAddLink ? \"block\" : \"none\" }}>\n        <AddLink\n          user={user}\n          checkLinks={checkLinks}\n          setDisplay={setDisplayAddLink}\n        />\n      </div>\n      <div style={{ display: DisplayEditLink ? \"block\" : \"none\" }}>\n        {DisplayEditLink}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { Auth0Client } from \"@auth0/auth0-spa-js\";\r\nimport React from \"react\";\r\nimport NavBar from \"./NavBar\";\r\n\r\nfunction Login({ auth0 }: { auth0: Auth0Client }) {\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <div className=\"loginContainer\">\r\n        <div className=\"login\">\r\n          <h1>Log in</h1>\r\n          <span>Log in to access your bookmarks</span>\r\n          <button onClick={() => auth0.loginWithRedirect()}>Log in</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./css/App.css\";\nimport createAuth0Client, { Auth0Client } from \"@auth0/auth0-spa-js\";\nimport Loading from \"./components/static/Loading\";\nimport Login from \"./components/static/Login\";\nimport NavBar from \"./components/static/NavBar\";\n\n//https://manage.auth0.com/dashboard/us/dev-jmaenfuw/applications/QopskNe2tUV2pxtzeF1MDyZJEWkxWGlS\n\nReactDOM.render(\n  <>\n    <NavBar />\n    <Loading />\n  </>,\n  document.getElementById(\"root\")\n);\n\nconst auth0Options = {\n  domain: process.env.REACT_APP_DOMAIN!,\n  client_id: process.env.REACT_APP_CLIENT_ID!,\n  redirect_uri: window.location.origin,\n};\n\ncreateAuth0Client(auth0Options).then(async (auth0) => {\n  let user = await getUser(auth0);\n\n  if (!user) {\n    try {\n      await auth0.handleRedirectCallback();\n      user = await getUser(auth0);\n    } catch (error) {\n      ReactDOM.render(<Login auth0={auth0} />, document.getElementById(\"root\"));\n      return;\n    }\n  }\n\n  if (user)\n    ReactDOM.render(\n      <App auth0={auth0} user={user} />,\n      document.getElementById(\"root\")\n    );\n});\n\nasync function getUser(auth0: Auth0Client) {\n  try {\n    const accessToken = await auth0.getTokenSilently();\n    const user = await auth0.getUser();\n    return { ...user, accessToken };\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n}\n"],"sourceRoot":""}